<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<h:outputScript library="js" name="jquery.js" target="head" />
	<h:outputScript library="js" name="jquery.flot.js" target="head" />
	<h:outputStylesheet library="css" name="grafico.css" target="head" />

	<div id='resumodeparadas'>
		<p class="sub-titulo1">4. Resumo de Paradas</p>
		<div id='paradasevitadas'>
			<p class="sub-titulo2">4.1 Paradas Evitadas (PE)</p>
			<h:outputText
				value="Consideramos paradas evitadas, atuações executadas no ambiente depois de detectadas pelo monitoramento acionando a equipe técnica que tomou alguma ação para evitar a parada." />
			<h:outputText value="Último ano:" />
			<h:dataTable value="#{paradasBean.listaUltimosAnosHoras}" var="i"
				styleClass="default-table" headerClass="default-table-header"
				rowClasses="default-table-odd-row,default-table-even-row"
				footerClass="default-table-footer">

				<h:column>
					<f:facet name="header">Ano</f:facet>
					<h:outputText value="#{i.ano}" />
				</h:column>

				<h:column>
					<f:facet name="header">Horas</f:facet>
					<h:outputText value="#{i.horas}" />
				</h:column>

			</h:dataTable>
			<h:outputText value="Acumulado do ano:" />
			<div id="graficoAcumuladoAno" class="graph-med"></div>
			<h:outputText value="Dados do mês:" />
			<h:dataTable value="#{paradasBean.listaParadasEvitadas}" var="i"
				styleClass="default-table" headerClass="default-table-header"
				rowClasses="default-table-odd-row,default-table-even-row"
				footerClass="default-table-footer">

				<h:column>
					<f:facet name="header">Nº Chamado</f:facet>
					<h:outputText value="#{i.idchamado}" />
				</h:column>

				<h:column>
					<f:facet name="header">Data</f:facet>
					<h:outputText value="#{i.data}" />
				</h:column>

				<h:column>
					<f:facet name="header">Tempo</f:facet>
					<h:outputText value="#{i.horas}" />
				</h:column>

				<h:column>
					<f:facet name="header">Host</f:facet>
					<h:outputText value="#{i.host}" />
				</h:column>

				<h:column>
					<f:facet name="header">Descrição</f:facet>
					<h:outputText value="#{i.descricao}" />
				</h:column>


			</h:dataTable>
		</div>
		<div id='paradasnaoprogramadas'>
			<p class="sub-titulo2">4.1 Paradas Não Programadas (PNP)</p>
			<h:outputText
				value="Paradas que ocorreram no ambiente de forma bruta, sem conhecimento da equipe técnica." />
			<h:dataTable value="#{paradasBean.listaParadasNaoProgramadas}"
				var="i" styleClass="default-table"
				headerClass="default-table-header"
				rowClasses="default-table-odd-row,default-table-even-row"
				footerClass="default-table-footer">

				<h:column>
					<f:facet name="header">Data</f:facet>
					<h:outputText value="#{i.data}" />
				</h:column>

				<h:column>
					<f:facet name="header">Tempo</f:facet>
					<h:outputText value="#{i.horas}" />
				</h:column>

				<h:column>
					<f:facet name="header">Host</f:facet>
					<h:outputText value="#{i.host}" />
				</h:column>

				<h:column>
					<f:facet name="header">Descrição</f:facet>
					<h:outputText value="#{i.host}" />
				</h:column>

			</h:dataTable>
		</div>
		<div id='programadassestrategicas'>
			<p class="sub-titulo2">4.3 Paradas Programadas Estratégicas (PPE)</p>
			<h:outputText
				value="Consideramos paradas programadas estratégicas as situações de necessidade de manutenção no ambiente, onde é possível sua execução sem causar indisponibilidade no mesmo." />
			<h:dataTable
				value="#{paradasBean.listaParadasProgramadasEstrategicas}" var="i"
				styleClass="default-table" headerClass="default-table-header"
				rowClasses="default-table-odd-row,default-table-even-row"
				footerClass="default-table-footer">

				<h:column>
					<f:facet name="header">Data</f:facet>
					<h:outputText value="#{i.data}" />
				</h:column>

				<h:column>
					<f:facet name="header">Tempo</f:facet>
					<h:outputText value="#{i.horas}" />
				</h:column>

				<h:column>
					<f:facet name="header">Host</f:facet>
					<h:outputText value="#{i.host}" />
				</h:column>

				<h:column>
					<f:facet name="header">Descrição</f:facet>
					<h:outputText value="#{i.host}" />
				</h:column>

			</h:dataTable>
		</div>
		<div id='paradasprogramadas'>
			<p class="sub-titulo2">4.4 Paradas Programadas (PP)</p>
			<h:outputText
				value="Consideramos paradas programas as situações de necessidade de manutenção no ambiente, porém gerando indisponibilidade no mesmo." />
			<h:dataTable value="#{paradasBean.listaParadasProgramadas}" var="i"
				styleClass="default-table" headerClass="default-table-header"
				rowClasses="default-table-odd-row,default-table-even-row"
				footerClass="default-table-footer">

				<h:column>
					<f:facet name="header">Data</f:facet>
					<h:outputText value="#{i.data}" />
				</h:column>

				<h:column>
					<f:facet name="header">Tempo</f:facet>
					<h:outputText value="#{i.horas}" />
				</h:column>

				<h:column>
					<f:facet name="header">Host</f:facet>
					<h:outputText value="#{i.host}" />
				</h:column>

				<h:column>
					<f:facet name="header">Descrição</f:facet>
					<h:outputText value="#{i.host}" />
				</h:column>

			</h:dataTable>
		</div>
		<div id='totais'>
			<p class="sub-titulo2">4.5 Totais</p>
			<h:outputText
				value="A PNP esta diretamente relacionada ao PE, onde PNP gera Downtime e PE gera downtime evitado, sendo assim:" />
			<h:outputText value="PNP: 129 min" />
			<h:outputText value="PE: 0 min" />
			<div id="graficoPNPPE" class="graph-med"></div>


			<h:outputText
				value="A PP esta diretamente relacionada ao PPE, onde PP gera Downtime e PPE gera downtime evitado, sendo assim:" />
			<h:outputText value="PP: 0 min" />
			<h:outputText value="PPE: 6 min" />
			<div id="graficoPPEPP" class="graph-med"></div>
		</div>
	</div>

	<script type="text/javascript">
	//<![CDATA[
$(function () {
    var d1 = [[1,-1],[2,-5],[3,-6],[4,0],[5,0],[6,-5],[7,-6],[8,-7],[9,-9],[10,-1],[11,-2],[12,-5]];
    var d2 = [[1,5],[2,1],[3,4],[4,8],[5,2],[6,0],[7,0],[8,1],[9,4],[10,2],[11,5],[12,8]];
    var d3 = [];

    for (var i = 0; i <12; i += 1)
        d3.push([i, d2[i][1] - d1[i][1]]);
                       
    $.plot($("#graficoPNPPE"), [
        {
            label: "PNP", color:"red", data: d1,
            bars: { show: true },
	},
	{
            label: "PE", color:"blue", data: d2,
            bars: { show: true }
	},
	{
            label: "Saldo", color:"yellow", data: d3,
            lines: { show: true },
	    points: { show: true }
	}
	
    ]
);
});
//]]> 
</script>
	<script type="text/javascript">
	//<![CDATA[
$(function () {
    var d1 = [[1,-1],[2,-5],[3,-6],[4,0],[5,0],[6,-5],[7,-6],[8,-7],[9,-9],[10,-1],[11,-2],[12,-5]];
    var d2 = [[1,5],[2,1],[3,4],[4,8],[5,2],[6,0],[7,0],[8,1],[9,4],[10,2],[11,5],[12,8]];
    var d3 = [];

    for (var i = 0; i <12; i += 1)
        d3.push([i, d2[i][1] - d1[i][1]]);
                       
    $.plot($("#graficoPPEPP"), [
        {
            label: "PPE", color:"red", data: d1,
            bars: { show: true },
	},
	{
            label: "PP", color:"blue", data: d2,
            bars: { show: true }
	},
	{
            label: "Saldo", color:"yellow", data: d3,
            lines: { show: true },
	    points: { show: true }
	}
	
    ]
);
});
//]]> 
</script>
	<script type="text/javascript">
	//<![CDATA[
$(function () {
    var d1 = [];
    for (var i = 0; i <= 12; i += 1)
        d1.push([i, Math.sin(i)]);
                       
    $.plot($("#graficoAcumuladoAno"), [
        {
           label: "Parada Evitadas", color:"blue", data: d1,
            bars: { show: true }
        }
    ]);
});
//]]> 
</script>
</ui:composition>